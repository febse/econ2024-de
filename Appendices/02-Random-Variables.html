<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Einführung in die Ökonometrie - Anhang A — Diskrete Zufallsvariablen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Appendices/03-Die-Normalverteilung.html" rel="next">
<link href="../references.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Appendices/02-Random-Variables.html">Anhang</a></li><li class="breadcrumb-item"><a href="../Appendices/02-Random-Variables.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Diskrete Zufallsvariablen</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Einführung in die Ökonometrie</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Einführung in Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-Python/01-01-Basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-Python/01-02-Basics-Ex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Übung: Python Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-Python/01-03-Numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">NumPy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-Python/01-04-Pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Pandas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-Python/01-05-Pandas-Ex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Übung zu Pandas</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-Deskriptive-Statistik.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Deskriptive Statistik</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-KQ-Methode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Die KQ-Methode</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04a-Diskrete-Verteilungen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Diskrete Verteilungen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04b-Stetige-Verteilungen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Die Gleichverteilung auf \[-1, 1\]</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-Einweg-Varianzanalyse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">ANOVA</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Empfohlene Literatur</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literaturverzeichnis</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Anhang</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Appendices/02-Random-Variables.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Diskrete Zufallsvariablen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Appendices/03-Die-Normalverteilung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Die Normalverteilung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Appendices/04-LA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Elemente der Linearen Algebra</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#simulation-eines-zufallsspiels" id="toc-simulation-eines-zufallsspiels" class="nav-link active" data-scroll-target="#simulation-eines-zufallsspiels"><span class="header-section-number">A.1</span> Simulation eines Zufallsspiels</a></li>
  <li><a href="#der-erwartungswert" id="toc-der-erwartungswert" class="nav-link" data-scroll-target="#der-erwartungswert"><span class="header-section-number">A.2</span> Der Erwartungswert</a></li>
  <li><a href="#eigenschaften-des-erwartungswertes" id="toc-eigenschaften-des-erwartungswertes" class="nav-link" data-scroll-target="#eigenschaften-des-erwartungswertes"><span class="header-section-number">A.3</span> Eigenschaften des Erwartungswertes</a></li>
  <li><a href="#die-varianz" id="toc-die-varianz" class="nav-link" data-scroll-target="#die-varianz"><span class="header-section-number">A.4</span> Die Varianz</a></li>
  <li><a href="#sec-joint-distribution" id="toc-sec-joint-distribution" class="nav-link" data-scroll-target="#sec-joint-distribution"><span class="header-section-number">A.5</span> Die gemeinsame Verteilung</a></li>
  <li><a href="#die-bedingte-verteilung" id="toc-die-bedingte-verteilung" class="nav-link" data-scroll-target="#die-bedingte-verteilung"><span class="header-section-number">B</span> Die bedingte Verteilung</a>
  <ul class="collapse">
  <li><a href="#unabhängigkeit" id="toc-unabhängigkeit" class="nav-link" data-scroll-target="#unabhängigkeit"><span class="header-section-number">B.1</span> Unabhängigkeit</a></li>
  <li><a href="#der-bedingte-erwartungswert" id="toc-der-bedingte-erwartungswert" class="nav-link" data-scroll-target="#der-bedingte-erwartungswert"><span class="header-section-number">B.2</span> Der bedingte Erwartungswert</a></li>
  <li><a href="#die-kovarianz" id="toc-die-kovarianz" class="nav-link" data-scroll-target="#die-kovarianz"><span class="header-section-number">B.3</span> Die Kovarianz</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Appendices/02-Random-Variables.html">Anhang</a></li><li class="breadcrumb-item"><a href="../Appendices/02-Random-Variables.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Diskrete Zufallsvariablen</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Anhang A — Diskrete Zufallsvariablen</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="simulation-eines-zufallsspiels" class="level2" data-number="A.1">
<h2 data-number="A.1" class="anchored" data-anchor-id="simulation-eines-zufallsspiels"><span class="header-section-number">A.1</span> Simulation eines Zufallsspiels</h2>
<p>Wir schauen uns zwei Spiele an. Im Spiel <code>X</code> können wir nichts (0 EUR), 1 EUR oder 2 EUR gewinnen. Im Spiel <code>Y</code> können wir nichts (0 EUR), 3 EUR oder 4 EUR gewinnen. Jedes Mal, das wir eins der Spiele spielen, wird ein Ergebnis eintreten (wir erhalten 0, 1, oder 2 EUR). Es ist wichtig zu beachten, dass wir das Ergebnis des Spieles vor dem eigentlichen Spielen <em>nicht</em> kennen.</p>
<p>Im Folgenden werden wir die Spiele <code>X</code> und <code>Y</code> mittels Zufallszahlen simulieren.</p>
<div id="cell-3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">432</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir spielen 1000 Mal das Spiel X</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>], size<span class="op">=</span><span class="dv">1000</span>, p <span class="op">=</span> [<span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>])</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>x.shape</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>(1000,)</code></pre>
</div>
</div>
<div id="cell-4" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">434</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir Spielen 1000 Mal das Spiel Y und speichern die Ergebnisse</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># in y</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>], size<span class="op">=</span><span class="dv">1000</span>, p<span class="op">=</span>[<span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.4</span>])</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>y.shape</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>(1000,)</code></pre>
</div>
</div>
<div id="cell-5" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nun lasst uns die Spielergebnisse zählen</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>x_freqs <span class="op">=</span> np.unique(x, return_counts<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>x_freqs</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>(array([0, 1, 2]), array([492, 289, 219]))</code></pre>
</div>
</div>
<div id="cell-6" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>y_freqs <span class="op">=</span> np.unique(y, return_counts<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>y_freqs</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>(array([0, 1, 2]), array([509,  73, 418]))</code></pre>
</div>
</div>
<div id="cell-7" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>, ncols<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>x_freqs[<span class="dv">0</span>], y <span class="op">=</span> x_freqs[<span class="dv">1</span>], ax<span class="op">=</span>ax1)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>y_freqs[<span class="dv">0</span>], y<span class="op">=</span>y_freqs[<span class="dv">1</span>], ax<span class="op">=</span>ax2)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'Spiel X'</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Spiel Y'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>Text(0.5, 1.0, 'Spiel Y')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="02-Random-Variables_files/figure-html/cell-7-output-2.png" width="575" height="431" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>games <span class="op">=</span> pd.DataFrame({</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'x'</span>: [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>],</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p_x"</span>: [<span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>],</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'y'</span>: [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>],</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"p_y"</span>: [<span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.4</span>]</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>games</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-games" class="cell quarto-float anchored" data-execution_count="7">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-games-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;A.1: Outcomes and probabilities
</figcaption>
<div aria-describedby="tbl-games-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="7">
<div>
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">p_x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0.5</td>
<td>0</td>
<td>0.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>0.3</td>
<td>1</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>0.2</td>
<td>2</td>
<td>0.4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Wir können die Wahrscheinlichkeiten der Gewinne in beiden Spielen in einem Balkendiagramm darstellen. Vergleichen Sie die Ergebnisse aus den Simulationen mit then Wahrscheinlichkeiten.</p>
<div id="cell-10" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>, ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">5</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>games, x<span class="op">=</span><span class="st">"x"</span>, y<span class="op">=</span><span class="st">"p_x"</span>, color<span class="op">=</span><span class="st">'blue'</span>, ax <span class="op">=</span> ax[<span class="dv">0</span>])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'Wahrscheinlichkeiten von Spiel X'</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlabel(<span class="st">'x'</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">'Wahrscheinlichkeit'</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>games, x<span class="op">=</span><span class="st">"y"</span>, y<span class="op">=</span><span class="st">"p_y"</span>, color<span class="op">=</span><span class="st">'red'</span>, ax <span class="op">=</span> ax[<span class="dv">1</span>])</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'Wahrscheinlichkeiten von Spiel Y'</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">'y'</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">'Wahrscheinlichkeit'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>Text(0, 0.5, 'Wahrscheinlichkeit')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="02-Random-Variables_files/figure-html/cell-9-output-2.png" width="812" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="der-erwartungswert" class="level2" data-number="A.2">
<h2 data-number="A.2" class="anchored" data-anchor-id="der-erwartungswert"><span class="header-section-number">A.2</span> Der Erwartungswert</h2>
<p>Die Wahrscheinlichkeiten in der Tabelle oben beschreiben die <em>Regeln</em> der beiden Spiele. Aus Ihnen können wir zwar schwer vorhersagen, was das Ergebnis im nächsten Spiel sein wird, allerdings können wir eine große Anzahl von Spielen beschreiben.</p>
<p>Die Funktion, die jedes Ergebnis einer Zahl zwischen 0 und 1 zuordnet nennen wir eine Warhscheinlichkeitsfunktion. Die Tabelle oben können wir als Wahrscheinlichkeitsfunktionen für die Spiele <code>X</code> und <code>Y</code> schreiben.</p>
<p><span class="math display">
p_X(x) = \begin{cases}
0.5 &amp; \text{für } x = 0 \\
0.3 &amp; \text{für } x = 1 \\
0.2 &amp; \text{für } x = 2 \\
\end{cases}
</span></p>
<p><span class="math display">
p_Y(x) = \begin{cases}
0.5 &amp; \text{für } x = 0 \\
0.1 &amp; \text{für } x = 3 \\
0.4 &amp; \text{für } x = 4 \\
\end{cases}
</span></p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warnung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die Wahrscheinlichkeitsfunktionen müssen die folgenden Bedingungen erfüllen:</p>
<ul>
<li>Die Wahrscheinlichkeiten müssen zwischen 0 und 1 liegen.</li>
<li>Die Summe der Wahrscheinlichkeiten muss 1 ergeben. Für eine Zufallsvariable <span class="math inline">X</span> mit den möglichen Ergebnissen <span class="math inline">x_1, x_2, \ldots, x_n</span> und den Wahrscheinlichkeiten <span class="math inline">p_1, p_2, \ldots, p_n</span> bedeutet das:</li>
</ul>
<p><span class="math display">
\sum_{i=1}^n p(x_i) = 1
</span></p>
</div>
</div>
<p>Sehr häufig möchten wir diese Funktionen zusammenfassen. Zum Beispiel, aus Sicht des Spielveranstalters müssen wir entscheiden, welchen Preis für ein Spielticket zu setzen. Um das machen zu können müssen wir wissen wie viel wir im Durchschnitt zahlen werden müssen, falls wir eine große Anzahl von Tickets verkaufen.</p>
<p>In der Simulation oben haben wir gesehen, daß im Spiel <code>X</code> die Wahrscheinlichkeiten (0.5, 0.3, 0.2) bedeuten, daß aus 1000 Spielen ungefähr 500 Tickets keinen Gewinn bringen. Für ungefähr 300 Tickets werden wir 1 EUR zahlen müssen und für ungefähr 200 Tickets werden wir 2 EUR zahlen müssen.</p>
<p>Insgesamt werden wir ungefähr</p>
<p><span class="math display">
500 \times 0 + 300 \times 1 + 200 \times 2 = 700
</span></p>
<p>Euro zahlen müssen. Wenn wir die Gesamtzahlung durch die Anzahl der verkauften Tickets dividieren, erhalten wir die durchschnittliche Zahlung pro Ticket, die wir leisten müssen.</p>
<p><span class="math display">
\frac{700}{1000} = 0.7
</span></p>
<p>Diese Zahl ist der <strong>Erwartungswert</strong> des Spieles <code>X</code>. Anders geschrieben:</p>
<p><span class="math display">
\begin{align*}
\frac{500 \times 0 + 300 \times 1 + 200 \times 2}{1000} =  \\
0 \times \frac{500}{1000} + 1 \times \frac{300}{1000} + 2 \times \frac{200}{1000} = \\
0 \times 0.5 + 1 \times 0.3 + 2 \times 0.2 = \\
\end{align*}
</span></p>
<div id="def-expected-value" class="theorem definition">
<p><span class="theorem-title"><strong>Definition A.1 (Erwartungswert)</strong></span> Formal ist der Erwartungswert die gewichtete Summe der möglichen Ergebnisse. Für eine Zufallsvariable <span class="math inline">X</span> mit den möglichen Ergebnissen <span class="math inline">x_1, x_2, \ldots, x_n</span> und den Wahrscheinlichkeiten <span class="math inline">p_1, p_2, \ldots, p_n</span> ist der Erwartungswert</p>
<p><span class="math display">
E(X) = x_1 \cdot p_1 + x_2 \cdot p_2 + \ldots + x_n \cdot p_n = \sum_{i=1}^n x_i \cdot p_i
</span></p>
</div>
<div id="cell-12" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Der Erwartungswert von X</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>E_X <span class="op">=</span> np.<span class="bu">sum</span>(games[<span class="st">"x"</span>] <span class="op">*</span> games[<span class="st">"p_x"</span>])</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>E_X</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>0.7</code></pre>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>E_Y <span class="op">=</span> np.<span class="bu">sum</span>(games[<span class="st">"y"</span>] <span class="op">*</span> games[<span class="st">"p_y"</span>])</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>E_Y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>0.9</code></pre>
</div>
</div>
<p>Vergleichen wir diese Erwartungswerte mit den beobachteten Mittelwerten in den Simulationen</p>
<div id="cell-15" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>np.mean(x)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>0.727</code></pre>
</div>
</div>
<div id="cell-16" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>np.mean(y)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>0.909</code></pre>
</div>
</div>
</section>
<section id="eigenschaften-des-erwartungswertes" class="level2" data-number="A.3">
<h2 data-number="A.3" class="anchored" data-anchor-id="eigenschaften-des-erwartungswertes"><span class="header-section-number">A.3</span> Eigenschaften des Erwartungswertes</h2>
<p>Der Erwartungswert ist ein linearer Operator. Das bedeutet, daß der Erwartungswert einer Summe von Zufallsvariablen gleich der Summe der Erwartungswerte ist.</p>
<div id="thm-expectation-linearity" class="theorem">
<p><span class="theorem-title"><strong>Theorem A.1</strong></span> Es seien <span class="math inline">X</span> und <span class="math inline">Y</span> zwei Zufallsvariablen und <span class="math inline">a</span> und <span class="math inline">b</span> zwei Konstanten (reale Zahlen). Dann gilt</p>
<p><span class="math display">
E(aX + bY) = aE(X) + bE(Y)
</span></p>
</div>
<div class="proof callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Beweis
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Für den Beweis verwenden wir die Definition des Erwartungswertes und die Tatsache, daß die Konstante <span class="math inline">a</span> aus der Summe herausgezogen werden kann (sie hängt nicht von dem Index der Summe ab).</p>
<p><span class="math display">
\begin{align*}
E(aX) = \sum_{i=1}^n a x_i p_i = a \sum_{i=1}^n x_i p_i = aE(X) \\
\end{align*}
</span></p>
<p>Für den zweiten Teil des Beweises brauchen wir die gemeinsame Wahrscheinlichkeitsfunktion (<span class="math inline">p_{X,Y}</span>) von <span class="math inline">X</span> und <span class="math inline">Y</span>, die in <a href="#sec-joint-distribution" class="quarto-xref"><span>Kapitel A.5</span></a> eingeführt wird. Sie können den Beweis zuerst überspringen und später zurückkehren.</p>
<p><span class="math display">
\begin{align*}
E(X + Y) = \sum_{x}\sum_{y} (x + y) p_{X,Y}(x, y) = \sum_{x}\sum_{y} (x p_{X,Y}(x, y) + y p_{X,Y}(x, y))
\end{align*}
</span></p>
<p>Wir können die Summe in zwei Teile aufteilen.</p>
<p><span class="math display">
\begin{align*}
E(X + Y) = \sum_{x}\sum_{y} x p_{X,Y}(x, y) + \sum_{x}\sum_{y} y p_{X,Y}(x, y)
\end{align*}
</span></p>
<p>Nun sollten wir merken, dass es in beiden Summen Komponenten gibt, die wir ausklammern können.</p>
<p><span class="math display">
\begin{align*}
E(X + Y) = \sum_{x} x \sum_{y} p_{X,Y}(x, y) + \sum_{y} y \sum_{x} p_{X,Y}(x, y)
\end{align*}
</span></p>
<p>Die Ausdrücke</p>
<p><span class="math display">
\begin{align*}
\sum_{y} p_{X,Y}(x, y) = p_X(x) \\
\sum_{x} p_{X,Y}(x, y) = p_Y(y)
\end{align*}
</span></p>
<p>sind die Randverteilungen von <span class="math inline">X</span> und <span class="math inline">Y</span>. Sie sind in <a href="#def-marginal-distribution" class="quarto-xref">Definition&nbsp;<span>A.3</span></a> eingeführt. Wir können sie in den Ausdrücken oben ersetzen.</p>
<p>Am Ende erhalten wir</p>
<p><span class="math display">
\begin{align*}
E(X + Y) = \sum_{x} x p_X(x) + \sum_{y} y p_Y(y) = E(X) + E(Y)
\end{align*}
</span></p>
</div>
</div>
</div>
</section>
<section id="die-varianz" class="level2" data-number="A.4">
<h2 data-number="A.4" class="anchored" data-anchor-id="die-varianz"><span class="header-section-number">A.4</span> Die Varianz</h2>
<p>Die Varianz ist ein Maß für die Streuung von Werten. Wir haben in der deskriptiven Statistik die empirische Varianz kennengelernt. Die empirische Varianz ist ein Maß für die Streuung von Werten um den Mittelwert. Die Varianz einer Verteilung (Zufallsvariable) ist ein Maß für die Streuung der Werte, die diese Verteilung produzieren wird (wenn wir das Spiel spielen).</p>
<div id="def-variance" class="theorem definition">
<p><span class="theorem-title"><strong>Definition A.2 (Varianz)</strong></span> Die Varianz einer Zufallsvariable <span class="math inline">X</span> mit den möglichen Ergebnissen <span class="math inline">x_1, x_2, \ldots, x_n</span> und den Wahrscheinlichkeiten <span class="math inline">p_1, p_2, \ldots, p_n</span> ist</p>
<p><span class="math display">
\text{Var}(X) = E\left((X - E(X))^2\right) = \sum_{i=1}^n (x_i - E(X))^2 \cdot p_i
</span></p>
</div>
<div id="cell-19" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lasst uns die Varianz von X berechnen</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Den Erwartungswert von X haben wir bereits berechnet und unter E_X gespeichert</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Für die Varianz von X berechnen wir Differenz der möglichen Ergebnisse von X</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># zum Erwartungswert</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>x_diff_erwartungswert <span class="op">=</span> games[<span class="st">"x"</span>] <span class="op">-</span> E_X</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Danach quadrieren wir die Differenzen</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>x_diff_erwartungswert_squared <span class="op">=</span> x_diff_erwartungswert <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Am ende multiplizieren wir die quadrierten Differenzen mit den Wahrscheinlichkeiten für X=0, X=1 und X=2</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>var_X <span class="op">=</span> np.<span class="bu">sum</span>(x_diff_erwartungswert_squared <span class="op">*</span> games[<span class="st">"p_x"</span>])</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>var_X</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0.6100000000000001</code></pre>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Das gleiche können wir für Y machen, diesmal ohne die Zwischenschritte</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>var_Y <span class="op">=</span> np.<span class="bu">sum</span>(games[<span class="st">"p_y"</span>] <span class="op">*</span> (games[<span class="st">"y"</span>] <span class="op">-</span> E_Y) <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>var_Y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>0.8900000000000001</code></pre>
</div>
</div>
<p>Die Varianz von Y ist größer als die Varianz von X. Das bedeutet, daß die Werte, die Y produziert, weiter von ihrem Erwartungswert entfernt sein werden als die Werte, die X produziert.</p>
<p>Sehr häufig ist der folgende Satz nützlich</p>
<div id="thm-variance-decomposition" class="theorem">
<p><span class="theorem-title"><strong>Theorem A.2 (Varianzzerlegung)</strong></span> Die Varianz einer Zufallsvariable <span class="math inline">X</span> kann in zwei Teile zerlegt werden:</p>
<p><span class="math display">
\text{Var}(X) = E(X^2) - (E(X))^2
</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>Der Beweis ist einfach. Wir beginnen mit der Definition der Varianz, danach schreiben wir die quadratische Formel um und benutzen die Linearität (<a href="#thm-expectation-linearity" class="quarto-xref">Theorem&nbsp;<span>A.1</span></a>) des Erwartungswertes.</p>
<p><span class="math display">
\begin{align*}
\text{Var}(X) &amp; = E\left((X - E(X))^2\right) \\
&amp; = E(X^2 - 2X \cdot E(X) + (E(X))^2) \\
&amp; = E(X^2) - 2E(X) \cdot E(X) + (E(X))^2 \\
&amp; = E(X^2) - (E(X))^2
\end{align*}
</span></p>
</div>
</section>
<section id="sec-joint-distribution" class="level2" data-number="A.5">
<h2 data-number="A.5" class="anchored" data-anchor-id="sec-joint-distribution"><span class="header-section-number">A.5</span> Die gemeinsame Verteilung</h2>
<p>Bisher haben wir uns nur mit einer Zufallsvariablen beschäftigt. Stellen wir uns vor, daß wir ein Spiel spielen, das zwei Ergebnisse produziert. Zum Beispiel können wir zwei Münzen werfen. Die Ergebnisse können sein: (Kopf, Kopf), (Kopf, Zahl), (Zahl, Kopf), (Zahl, Zahl). Oder aber wir spielen die Spiele <code>X</code> und <code>Y</code> und die Ergebnisse können sein (0, 0), (0, 3), (0, 4), (1, 0), (1, 3), (1, 4), (2, 0), (2, 3), (2, 4). Genau wir im ein-dimensionalen Fall können wir die Wahrscheinlichkeiten der Ergebnisse in einer Tabelle zusammenfassen.</p>
<p>Um ein Beispiel zu geben, werden wir Wahrscheinlichkeiten für dieses Spiel ausdenken.</p>
<div id="cell-24" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">322</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir erzeugen 9 Zufallszahlen</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>joint_probs <span class="op">=</span> np.random.rand(<span class="dv">9</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>games2 <span class="op">=</span> pd.DataFrame(itertools.product([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>]), columns<span class="op">=</span>[<span class="st">"x"</span>, <span class="st">"y"</span>])</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Damit diese Zufallszahlen die Bedingungen einer Wahrscheinlichkeitsverteilung erfüllen,</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># müssen sie normiert werden, damit sie sich zu 1 summieren</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>games2[<span class="st">"p_xy"</span>] <span class="op">=</span>  joint_probs <span class="op">/</span> joint_probs.<span class="bu">sum</span>()</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>games2</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0.198694</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>1</td>
<td>0.068238</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>2</td>
<td>0.132942</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>0</td>
<td>0.080278</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>1</td>
<td>0.008387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1</td>
<td>2</td>
<td>0.278337</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2</td>
<td>0</td>
<td>0.095935</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2</td>
<td>1</td>
<td>0.051734</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2</td>
<td>2</td>
<td>0.085454</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>In diesem Spiel ist das wahrscheinlichste Ergebnis (1, 2) mit einer Wahrscheinlichkeit von 0.278.</p>
<p>Sehr häufig werden Sie diese Art von Tabelle in der Statistik sehen. Sie wird als <strong>gemeinsame Verteilung</strong> bezeichnet und wird oft in Tabellen dargestellt, wo die Werte des ersten Ergebnißes in den Zeilen und die Werte des zweiten Ergebnisses in den Spalten stehen. In den Zellen der Tabelle stehen die Wahrscheinlichkeiten.</p>
<div id="cell-27" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>games2_wide <span class="op">=</span> games2.pivot(index<span class="op">=</span><span class="st">"x"</span>, columns<span class="op">=</span><span class="st">"y"</span>, values<span class="op">=</span><span class="st">"p_xy"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>games2_wide</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.198694</td>
<td>0.068238</td>
<td>0.132942</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.080278</td>
<td>0.008387</td>
<td>0.278337</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0.095935</td>
<td>0.051734</td>
<td>0.085454</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Diese Ansicht is nützlich, denn sie erlaubt uns die Randverteilungen einfach (per Hand) zu berechnen. Die Randverteilungen sind die Verteilungen der einzelnen Zufallsvariablen. In unserem Beispiel sind die Randverteilungen die Verteilungen von <code>X</code> und <code>Y</code>.</p>
<p>Die Randverteilung beantwortet die Frage: “Was ist die Wahrscheinlichkeit, daß das erste Ergebnis 1 ist?” oder “Was ist die Wahrscheinlichkeit, daß das zweite Ergebnis 2 ist?”, usw.</p>
<p>In der Tabelle oben kann <span class="math inline">X = 1</span> in drei verschiedenen Fällen eintreten: (1, 0), (1, 1), und (1, 2). Die Wahrscheinlichkeit, daß <span class="math inline">X = 1</span> ist, ist die Summe der Wahrscheinlichkeiten dieser drei Fälle, denn die Ereignisse sind disjunkt.</p>
<p>Deswegen ist die Wahrscheinlichkeit, daß <span class="math inline">X = 0</span> ist, gleich 0.1986 + 0.0682 + 0.132942. Dieselbe Überlegung führ uns zu der Wahrscheinlichkeit, daß <span class="math inline">X = 1</span> ist: 0.080278 + 0.008387 + 0.278337 und zu der Wahrscheinlichkeit, daß <span class="math inline">X = 2</span> ist: 0.095935 + 0.051734 + 0.085454.</p>
<p>Ganz allgemein ergibt sich die Randverteilung von <span class="math inline">X</span> aus der gemeinsamen Verteilung, indem die Wahrscheinlichkeiten in den Zeilen addiert werden.</p>
<p>Wenn wir die Tabelle spaltenweise addieren, erhalten wir die Randverteilung von <span class="math inline">Y</span>.</p>
<div id="def-marginal-distribution" class="theorem definition">
<p><span class="theorem-title"><strong>Definition A.3 (Randverteilungen)</strong></span> Betrachten wir ein gemeinsame Wahrscheinlichkeitsfunktion <span class="math inline">p_{X,Y}(x, y)</span> für zwei Zufallsvariablen <span class="math inline">X</span> und <span class="math inline">Y</span>. Die Randverteilungen von <span class="math inline">X</span> und <span class="math inline">Y</span> sind</p>
<p><span class="math display">
p_X(x) = \sum_{y} p_{X,Y}(x, y)
</span></p>
<p>und</p>
<p><span class="math display">
p_Y(y) = \sum_{x} p_{X,Y}(x, y)
</span></p>
</div>
<p>In Python ist es einfacher, die lange Form der Tabelle zu nutzen</p>
<div id="cell-29" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>games2.groupby(<span class="st">"x"</span>).<span class="bu">sum</span>() <span class="co"># Dir Randverteilung von X</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>3</td>
<td>0.399875</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>3</td>
<td>0.367002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>0.233123</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-30" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>games2.groupby(<span class="st">"y"</span>).<span class="bu">sum</span>() <span class="co"># Die Randverteilung von Y</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">p_xy</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>3</td>
<td>0.374907</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>3</td>
<td>0.128359</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>0.496734</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="die-bedingte-verteilung" class="level1" data-number="B">
<h1 data-number="B"><span class="header-section-number">B</span> Die bedingte Verteilung</h1>
<p>Bisher haben wir die gemeinsame Verteilung und die Randverteilungen betrachtet. Diese Verteilungen beantworten die Fragen:</p>
<ul>
<li>Was ist die Wahrscheinlichkeit, daß das erste Ergebnis x <strong>und</strong> das zweite Ergebnis y ist? (gemeinsame Verteilung)</li>
<li>Was ist die Wahrscheinlichkeit, daß das erste Ergebnis x ist? (Randverteilung von X)</li>
<li>Was ist die Wahrscheinlichkeit, daß das zweite Ergebnis y ist? (Randverteilung von Y)</li>
</ul>
<p>Es gibt noch ein wichtiges Konzept, das wir betrachten müssen: die <strong>bedingte Verteilung</strong>. Stellen wir uns vor, dass wir die zwei Spiele nach einander spielen und das wir bereits das Ergebnis des ersten Spieles kennen. Lasst uns annehmen, dass wir vom ersten Spiel 1 EUR gewonnen haben. Was ist die Wahrscheinlichkeit, dass wir im zweiten Spiel 3 EUR gewinnen werden?</p>
<p>Falls das erste Ergebnis 1 ist, dann sind die möglichen Ergebnisse des zweiten Spieles (1, 0), (1, 1), und (1, 2). Die restlichen Ergebnisse (0, 0), (0, 1), (0, 2), (2, 0), (2, 1), und (2, 2) sind nicht möglich.</p>
<p>Nach der gemeinsamen Verteilung sind die Wahrscheinlichkeiten dieser Ergebnisse sind 0.080278, 0.008387, und 0.278337. Diese Werte sind allerdings keine Wahrscheinlichkeitsverteilung (die Summe ist nicht 1). Wir müssen die Werte normieren, indem wir jeden Wert durch die Summe der Werte teilen.</p>
<p>Wir erhalten dadurch die <strong>bedingte</strong> Verteilung von <span class="math inline">Y</span> gegeben <span class="math inline">X = 1</span>. Diese Verteilung beantwortet die Frage: “Was ist die Wahrscheinlichkeit, daß das zweite Ergebnis y ist, gegeben daß das erste Ergebnis 1 ist?”</p>
<p>Wir können die bedingten Verteilungen von <span class="math inline">Y</span> für jeden Wert von <span class="math inline">X</span> berechnen. Wir müssen nur die gemeinsame Verteilung durch die Randverteilung von <span class="math inline">X</span> teilen.</p>
<div id="cell-32" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>games2</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0.198694</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>1</td>
<td>0.068238</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>2</td>
<td>0.132942</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>0</td>
<td>0.080278</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>1</td>
<td>0.008387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1</td>
<td>2</td>
<td>0.278337</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2</td>
<td>0</td>
<td>0.095935</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2</td>
<td>1</td>
<td>0.051734</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2</td>
<td>2</td>
<td>0.085454</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>games2[<span class="st">"p_x"</span>] <span class="op">=</span> games2.groupby(<span class="st">"x"</span>)[<span class="st">"p_xy"</span>].transform(<span class="st">'sum'</span>) <span class="co"># Die Randverteilung von X</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>games2[<span class="st">"p_y_given_x"</span>] <span class="op">=</span> games2[<span class="st">"p_xy"</span>] <span class="op">/</span> games2[<span class="st">"p_x"</span>] <span class="co"># Die bedingte Wahrscheinlichkeit von Y gegeben X</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>games2</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
<th data-quarto-table-cell-role="th">p_x</th>
<th data-quarto-table-cell-role="th">p_y_given_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0.198694</td>
<td>0.399875</td>
<td>0.496891</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>1</td>
<td>0.068238</td>
<td>0.399875</td>
<td>0.170649</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>2</td>
<td>0.132942</td>
<td>0.399875</td>
<td>0.332459</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>0</td>
<td>0.080278</td>
<td>0.367002</td>
<td>0.218740</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>1</td>
<td>0.008387</td>
<td>0.367002</td>
<td>0.022852</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1</td>
<td>2</td>
<td>0.278337</td>
<td>0.367002</td>
<td>0.758408</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2</td>
<td>0</td>
<td>0.095935</td>
<td>0.233123</td>
<td>0.411521</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2</td>
<td>1</td>
<td>0.051734</td>
<td>0.233123</td>
<td>0.221916</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2</td>
<td>2</td>
<td>0.085454</td>
<td>0.233123</td>
<td>0.366563</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Überprüfen wir, dass sich die bedingten Wahrscheinlichkeiten zu 1 summieren</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>games2.groupby(<span class="st">"x"</span>)[<span class="st">"p_y_given_x"</span>].<span class="bu">sum</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>x
0    1.0
1    1.0
2    1.0
Name: p_y_given_x, dtype: float64</code></pre>
</div>
</div>
<section id="unabhängigkeit" class="level2" data-number="B.1">
<h2 data-number="B.1" class="anchored" data-anchor-id="unabhängigkeit"><span class="header-section-number">B.1</span> Unabhängigkeit</h2>
<div id="def-independence" class="theorem definition">
<p><span class="theorem-title"><strong>Definition B.1 (Unabhängigkeit)</strong></span> Zwei Zufallsvariablen <span class="math inline">X</span> und <span class="math inline">Y</span> nennen wir unabhängig, falls die gemeinsame Verteilung das Produkt der Randverteilungen ist.</p>
<p><span class="math display">
p_{X,Y}(x, y) = p_X(x) \cdot p_Y(y)
</span></p>
</div>
<p>Für unabhängige Zufallsvariablen gilt, daß die bedingten Verteilungen</p>
<p>Zwei Zufallsvariablen <span class="math inline">X</span> und <span class="math inline">Y</span> nennen wir unabhängig, wenn die bedingten Verteilungen von <span class="math inline">Y</span> gleich der Randverteilung von <span class="math inline">Y</span> sind (dasselbe gilt auch für X).</p>
<div id="thm-independence-conditional-expectation" class="theorem">
<p><span class="theorem-title"><strong>Theorem B.1 (Unabhängigkeit und bedingte Verteilungen)</strong></span> Unter Unabhängigkeit sind die bedingten Verteilungen von <span class="math inline">Y</span> für jeden Wert von <span class="math inline">X</span> gleich der Randverteilung von <span class="math inline">Y</span>.</p>
<p><span class="math display">
p_{Y|X}(y|x) = p_Y(y)
</span></p>
<p>für alle <span class="math inline">x</span>.</p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>Die Randverteilung von <span class="math inline">Y</span> erhalten wir, indem wir die gemeinsame Verteilung über die möglichen Werte von <span class="math inline">X</span> summieren.</p>
<p><span class="math display">
p_Y(y) = \sum_{x} p_{X,Y}(x, y)
</span></p>
<p>Die bedingte Verteilung von <span class="math inline">Y</span> gegeben <span class="math inline">X</span> erhalten wir, indem wir die gemeinsame Verteilung durch die Randverteilung von <span class="math inline">X</span> teilen.</p>
<p><span class="math display">
p_{Y|X}(y|x) = \frac{p_{X,Y}(x, y)}{p_X(x)}
</span></p>
<p>Da sich laut <a href="#def-independence" class="quarto-xref">Definition&nbsp;<span>B.1</span></a> die gemeinsame Verteilung als Produkt der Randverteilungen schreiben lässt, erhalten wir</p>
<p><span class="math display">
p_{Y|X}(y|x) = \frac{p_X(x)p_Y(y)}{p_X(x)} = p_Y(y)
</span></p>
</div>
<div id="cell-36" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hier konstruieren wir die gemeinsame Verteilung von den Randverteilungen der </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># beiden Spiel X und Y</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>xy <span class="op">=</span> <span class="bu">list</span>(itertools.product([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>]))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>probs <span class="op">=</span> <span class="bu">list</span>(itertools.product([<span class="fl">0.5</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>], [<span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.4</span>]))</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir multiplizieren die Randverteilungen von X und Y um die gemeinsame Verteilung zu erhalten</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>joint_probs <span class="op">=</span> [p_x <span class="op">*</span> p_y <span class="cf">for</span> p_x, p_y <span class="kw">in</span> probs]</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>games_ind <span class="op">=</span> pd.DataFrame(xy, columns<span class="op">=</span>[<span class="st">"x"</span>, <span class="st">"y"</span>])</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>games_ind[<span class="st">"p_xy"</span>] <span class="op">=</span> joint_probs</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>games_ind</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>1</td>
<td>0.05</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>2</td>
<td>0.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>0</td>
<td>0.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>1</td>
<td>0.03</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1</td>
<td>2</td>
<td>0.12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2</td>
<td>0</td>
<td>0.10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2</td>
<td>1</td>
<td>0.02</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2</td>
<td>2</td>
<td>0.08</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lasst uns die bedingten Verteilungen von Y gegeben X berechnen (für jedes x)</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>games_ind[<span class="st">"p_y_given_x"</span>] <span class="op">=</span> games_ind[<span class="st">"p_xy"</span>] <span class="op">/</span> games_ind.groupby(<span class="st">"x"</span>)[<span class="st">"p_xy"</span>].transform(<span class="st">'sum'</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>games_ind</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">x</th>
<th data-quarto-table-cell-role="th">y</th>
<th data-quarto-table-cell-role="th">p_xy</th>
<th data-quarto-table-cell-role="th">p_y_given_x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0.25</td>
<td>0.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>1</td>
<td>0.05</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>2</td>
<td>0.20</td>
<td>0.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>0</td>
<td>0.15</td>
<td>0.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>1</td>
<td>0.03</td>
<td>0.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>1</td>
<td>2</td>
<td>0.12</td>
<td>0.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2</td>
<td>0</td>
<td>0.10</td>
<td>0.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2</td>
<td>1</td>
<td>0.02</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2</td>
<td>2</td>
<td>0.08</td>
<td>0.4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Was wir feststellen müssen ist es, daß die bedingten Verteilungen von <span class="math inline">Y</span> gegeben <span class="math inline">X</span> für jeden Wert von <span class="math inline">X</span> gleich sind.</p>
<div id="cell-39" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lasst und die Randverteilung von Y berechnen</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>p_y <span class="op">=</span> games_ind.groupby(<span class="st">"y"</span>)[<span class="st">"p_xy"</span>].<span class="bu">sum</span>()</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>p_y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>y
0    0.5
1    0.1
2    0.4
Name: p_xy, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="der-bedingte-erwartungswert" class="level2" data-number="B.2">
<h2 data-number="B.2" class="anchored" data-anchor-id="der-bedingte-erwartungswert"><span class="header-section-number">B.2</span> Der bedingte Erwartungswert</h2>
<p>Bisher haben wir den Erwartungswert von Zufallsvariablen in Bezug auf ihre Randverteilungen berechnet. Wir können auch den Erwartungswert in Bezug auf die bedingte Verteilung berechnen. Diesen Erwartungswert nennen wir den bedingten Erwartungswert.</p>
<div id="def-conditional-expectation" class="theorem definition">
<p><span class="theorem-title"><strong>Definition B.2 (Bedingter Erwartungswert)</strong></span> Der bedingte Erwartungswert von <span class="math inline">Y</span> gegeben <span class="math inline">X = x</span> ist</p>
<p><span class="math display">
E(Y|X = x) = \sum_{y} y \cdot p_{Y|X}(y|x)
</span></p>
</div>
<p>Im Fall von unabhängigen Zufallsvariablen sind die bedingten Erwartungswerte gleich dem (unbedingten) Erwartungswert. Das ist eine direkte Folge aus der Tatsache, daß die bedingten Verteilungen gleich der Randverteilung sind.</p>
<div id="cell-41" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Als Beispiel berechnen wir die bedingten Erwartungswerten von Y gegeben X </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># in den zwei Beispielen, die wir oben hatten</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>E_Y_given_X <span class="op">=</span> games2.groupby(<span class="st">"x"</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> gr: np.<span class="bu">sum</span>(gr[<span class="st">"y"</span>] <span class="op">*</span> gr[<span class="st">"p_y_given_x"</span>]))</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>E_Y_given_X</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_2446/2565904380.py:4: DeprecationWarning:

DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>x
0    0.835568
1    1.539668
2    0.955041
dtype: float64</code></pre>
</div>
</div>
<p>Der bedingte Erwartungswert von <span class="math inline">Y</span> ist bei <span class="math inline">X = 2</span> am größten und bei <span class="math inline">X = 0</span> am kleinsten. Das heißt, dass sich unsere Erwartungen über den Gewinn aus Spiel <span class="math inline">Y</span> ändern, wenn wir das Ergebnis von Spiel <span class="math inline">X</span> kennen.</p>
<div id="cell-43" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Im Fall der unabhängigen Zufallsvariablen X und Y in games_ind</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>E_Y_given_X_ind <span class="op">=</span> games_ind.groupby(<span class="st">"x"</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> gr: np.<span class="bu">sum</span>(gr[<span class="st">"y"</span>] <span class="op">*</span> gr[<span class="st">"p_y_given_x"</span>]))</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>E_Y_given_X_ind</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_2446/3047749272.py:3: DeprecationWarning:

DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>x
0    0.9
1    0.9
2    0.9
dtype: float64</code></pre>
</div>
</div>
<p>Im Fall von unabhängigen Zufallsvariablen ist der bedingte Erwartungswert gleich dem (unbedingten) Erwartungswert. Das heißt, dass wir aus der Kenntnis des Ergebnisses von <span class="math inline">X</span> keine zusätzliche Information über das Ergebnis von <span class="math inline">Y</span> erhalten.</p>
</section>
<section id="die-kovarianz" class="level2" data-number="B.3">
<h2 data-number="B.3" class="anchored" data-anchor-id="die-kovarianz"><span class="header-section-number">B.3</span> Die Kovarianz</h2>
<p>Wir haben bisher die Randverteilungen von Zufallsvariablen durch den Erwartungswert (Lage) und durch die Varianz (Streuung) zusammengefasst. Wir können auch die gemeinsame Verteilung von zwei Zufallsvariablen hinsichtlich des Zusammenhangs zwischen den beiden Variablen zusammenfassen.</p>
<div id="def-covariance" class="theorem definition">
<p><span class="theorem-title"><strong>Definition B.3 (Kovarianz)</strong></span> <span class="math display">
\text{Cov}(X, Y) = E_{XY}((X - E(X)) \cdot (Y - E(Y)))
</span></p>
<p>Wir schreiben <span class="math inline">E_{XY}</span>, um zu betonen, daß wir den Erwartungswert über die gemeinsame Verteilung berechnen.</p>
</div>
<p>Um die Kovarianz berechnen zu können ist oftmals der folgende Satz nützlich:</p>
<div id="thm-covariance-decomposition" class="theorem">
<p><span class="theorem-title"><strong>Theorem B.2 (Zerlegung der Varianz)</strong></span> <span class="math display">
\text{Cov}(X, Y) = E_{XY}(X \cdot Y) - E(X) \cdot E(Y)
</span> :::{.proof}</p>
<p>Der Satz ist sehr leicht zu beweisen. Wir müssen nur die Definition der Kovarianz und die Definition des Erwartungswertes benutzen.</p>
<p><span class="math display">
\begin{align*}
\text{Cov}(X, Y) &amp; = E_{XY}((X - E(X)) \cdot (Y - E(Y))) \\
&amp; = E_{XY}(X \cdot Y - X \cdot E(Y) - E(X) \cdot Y + E(X) \cdot E(Y)) \\
&amp; = E_{XY}(X \cdot Y) - E_{XY}(X \cdot E(Y)) - E_{XY}(E(X) \cdot Y) + E_{XY}(E(X) \cdot E(Y)) \\
&amp; = E_{XY}(X \cdot Y) - E(X) \cdot E(Y)
\end{align*}
</span></p>
</div>
<div id="cell-46" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen wir die Kovarianz für die zwei Spiele in games2</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>games2[<span class="st">"xy"</span>] <span class="op">=</span> games2[<span class="st">"x"</span>] <span class="op">*</span> games2[<span class="st">"y"</span>]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>E_XY <span class="op">=</span> np.<span class="bu">sum</span>(games2[<span class="st">"xy"</span>] <span class="op">*</span> games2[<span class="st">"p_xy"</span>])</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>cov_XY <span class="op">=</span> E_XY <span class="op">-</span> E_X <span class="op">*</span> E_Y</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>cov_XY</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>0.38034575941137405</code></pre>
</div>
</div>
<div id="cell-47" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Berechnen wir die Kovarianz für die zwei Spiele in games_ind</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>games_ind[<span class="st">"xy"</span>] <span class="op">=</span> games_ind[<span class="st">"x"</span>] <span class="op">*</span> games_ind[<span class="st">"y"</span>]</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>E_XY_ind <span class="op">=</span> np.<span class="bu">sum</span>(games_ind[<span class="st">"xy"</span>] <span class="op">*</span> games_ind[<span class="st">"p_xy"</span>])</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>E_X_ind <span class="op">=</span> np.<span class="bu">sum</span>(games[<span class="st">"x"</span>] <span class="op">*</span> games[<span class="st">"p_x"</span>])</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>E_Y_ind <span class="op">=</span> np.<span class="bu">sum</span>(games[<span class="st">"y"</span>] <span class="op">*</span> games[<span class="st">"p_y"</span>])</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>cov_XY_ind <span class="op">=</span> E_XY_ind <span class="op">-</span> E_X_ind <span class="op">*</span> E_Y_ind</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>cov_XY_ind</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>1.1102230246251565e-16</code></pre>
</div>
</div>
<p>Was wir uns hier merken können ist es, dass die Kovarianz im Fall von unabhängigen Zufallsvariablen null ist. Die Umkehrung ist jedoch nicht wahr. Es ist durchaus möglich, daß zwei Variablen eine Kovarianz von null haben, die allerdings nicht unabhängig sind.</p>
<div id="thm-covariance-independence" class="theorem">
<p><span class="theorem-title"><strong>Theorem B.3</strong></span> Es seien <span class="math inline">X</span> und <span class="math inline">Y</span> zwei unabhängige Zufallsvariablen. Dann ist ihre Kovarianz gleich null.</p>
<p><span class="math display">
\text{Cov}(X, Y) = 0
</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>Wir starten mit der Zerlegung der Kovarianz aus <a href="#thm-covariance-decomposition" class="quarto-xref">Theorem&nbsp;<span>B.2</span></a> und benutzen die Tatsache, daß die gemeinsame Verteilung das Produkt der Randverteilungen ist. Wir werden den Satz im diskreten Fall beweisen, allerdings gilt der Satz auch für stetige Verteilungen.</p>
<p><span class="math display">
\begin{align*}
\text{Cov}(X, Y) &amp; = E_{XY}(X \cdot Y) - E_X(X) \cdot E_Y(Y)
\end{align*}
</span></p>
<p>Der Erwartungswert des Produktes von <span class="math inline">X</span> und <span class="math inline">Y</span> ist einfach die Summe aller möglichen Produkte der Werte von <span class="math inline">X</span> und <span class="math inline">Y</span> multipliziert mit den Wahrscheinlichkeiten, daß diese Werte eintreten. Wir werden die Tatsache benutzen, daß die gemeinsame Verteilung das Produkt der Randverteilungen ist.</p>
<p><span class="math display">
p_{XY}(x, y) = p_X(x) \cdot p_Y(y)
</span></p>
<p><span class="math display">
\begin{align*}
E_{XY}(X \cdot Y) &amp; = \sum_{x} \sum_{y} x \cdot y \cdot p_{XY}(x, y) x \cdot y \\
&amp; = \sum_{x} \sum_{y} x \cdot y \cdot p_X(x) \cdot p_Y(y) \\
&amp; = \left(\sum_{x} x \cdot p_X(x) \right) \left(\sum_{y} y \cdot p_Y(y)\right) \\
&amp; = E_X(X) \cdot E_Y(Y)
\end{align*}
</span></p>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../references.html" class="pagination-link" aria-label="Literaturverzeichnis">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Literaturverzeichnis</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Appendices/03-Die-Normalverteilung.html" class="pagination-link" aria-label="Die Normalverteilung">
        <span class="nav-page-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Die Normalverteilung</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>